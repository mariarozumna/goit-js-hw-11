{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const form = document.querySelector('.form');\n  const imageList = document.querySelector('.gallery');\n  const loader = document.createElement('div'); // Corrected loader element creation\n\n  const gallery = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n\n  form.addEventListener('submit', handleSearch);\n\n  function handleSearch(event) {\n    event.preventDefault();\n\n    const searchInput = form.elements.input.value;\n\n    imageList.innerHTML = '';\n\n    if (!searchInput.trim()) {\n      iziToast.warning({\n        title: 'Warning',\n        message: 'Please enter a search query.',\n        messageSize: '20px',\n        messageColor: '#808080',\n        backgroundColor: '#e7fc44',\n        position: 'topLeft',\n        timeout: 3000,\n      });\n      return;\n    }\n\n    showLoader();\n\n    fetchImages(searchInput)\n      .then(data => {\n        if (data.hits.length === 0) {\n          iziToast.show({\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            messageSize: '16px',\n            messageColor: 'white',\n            backgroundColor: '#EF4040',\n            position: 'topRight',\n            timeout: 5000,\n          });\n        }\n        imageList.innerHTML = createMarkup(data.hits);\n        gallery.refresh();\n      })\n      .catch(error => {\n        console.error('Error fetching data:', error);\n        iziToast.error({\n          title: 'Error',\n          message: 'An error occurred while fetching data. Please try again!',\n        });\n      })\n      .finally(() => {\n        hideLoader();\n        form.reset();\n      });\n  }\n\n  function fetchImages(value) {\n    const BASE_URL = 'https://pixabay.com/api/';\n    const KEY = '41927866-cfb01af7ede59fae11104cea9';\n\n    \n    return fetch(`${BASE_URL}?key=${KEY}&q=${value}&image_type=photo&orientation=horizontal&safesearch=true`)\n      .then(response => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        return response.json();\n      });\n  }\n\n  function createMarkup(hits) {\n    return hits\n      .map(\n        ({\n          comments,\n          downloads,\n          largeImageURL,\n          likes,\n          webformatURL,\n          tags,\n          views,\n        }) =>\n          `<li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\">\n            <ul class=\"gallery-item-description\">\n              <li>Likes: ${likes}</li>\n              <li>Views: ${views}</li>\n              <li>Downloads: ${downloads}</li>\n              <li>Comments: ${comments}</li>\n            </ul>\n          </a>\n        </li>`\n      )\n      .join('');\n  }\n\nfunction hideLoader() {\n  // Приховати елемент завантажувача\n  setTimeout(() => {\n    loader.classList.add('hidden');\n  }, 500);\n}\n\nfunction showLoader() {\n  // Показати елемент завантажувача\n  loader.classList.remove('hidden');\n}\n});"],"names":["form","imageList","loader","gallery","SimpleLightbox","handleSearch","event","searchInput","iziToast","showLoader","fetchImages","data","createMarkup","error","hideLoader","value","response","hits","comments","downloads","largeImageURL","likes","webformatURL","tags","views"],"mappings":"6vBAKA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAS,SAAS,cAAc,KAAK,EAErCC,EAAU,IAAIC,EAAe,aAAc,CAC/C,aAAc,MACd,aAAc,GAClB,CAAG,EAEDJ,EAAK,iBAAiB,SAAUK,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EAAcP,EAAK,SAAS,MAAM,MAIxC,GAFAC,EAAU,UAAY,GAElB,CAACM,EAAY,OAAQ,CACvBC,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,+BACT,YAAa,OACb,aAAc,UACd,gBAAiB,UACjB,SAAU,UACV,QAAS,GACjB,CAAO,EACD,MACD,CAEDC,IAEAC,EAAYH,CAAW,EACpB,KAAKI,GAAQ,CACRA,EAAK,KAAK,SAAW,GACvBH,EAAS,KAAK,CACZ,QACE,2EACF,YAAa,OACb,aAAc,QACd,gBAAiB,UACjB,SAAU,WACV,QAAS,GACrB,CAAW,EAEHP,EAAU,UAAYW,EAAaD,EAAK,IAAI,EAC5CR,EAAQ,QAAO,CACvB,CAAO,EACA,MAAMU,GAAS,CACd,QAAQ,MAAM,uBAAwBA,CAAK,EAC3CL,EAAS,MAAM,CACb,MAAO,QACP,QAAS,0DACnB,CAAS,CACT,CAAO,EACA,QAAQ,IAAM,CACbM,IACAd,EAAK,MAAK,CAClB,CAAO,CACJ,CAED,SAASU,EAAYK,EAAO,CAK1B,OAAO,MAAM,qEAA4BA,CAAK,0DAA0D,EACrG,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACxB,CAAO,CACJ,CAED,SAASJ,EAAaK,EAAM,CAC1B,OAAOA,EACJ,IACC,CAAC,CACC,SAAAC,EACA,UAAAC,EACA,cAAAC,EACA,MAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,CACD,IACC;AAAA,0CACgCJ,CAAa;AAAA,8CACTE,CAAY,UAAUC,CAAI;AAAA;AAAA,2BAE7CF,CAAK;AAAA,2BACLG,CAAK;AAAA,+BACDL,CAAS;AAAA,8BACVD,CAAQ;AAAA;AAAA;AAAA,cAI/B,EACA,KAAK,EAAE,CACX,CAEH,SAASJ,GAAa,CAEpB,WAAW,IAAM,CACfZ,EAAO,UAAU,IAAI,QAAQ,CAC9B,EAAE,GAAG,CACR,CAEA,SAASO,GAAa,CAEpBP,EAAO,UAAU,OAAO,QAAQ,CAClC,CACA,CAAC"}