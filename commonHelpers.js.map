{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const form = document.querySelector('.form');\n  const gallery = document.querySelector('.gallery');\n  const loader = document.createElement('span');\n  loader.classList.add('loader');\n\n  form.addEventListener('submit', handleSearch);\n\n  function handleSearch(event) {\n    event.preventDefault();\n\n    const searchInput = form.querySelector('.input').value;\n\n    if (!searchInput.trim()) {\n      iziToast.warning({\n        title: 'Warning',\n        message: 'Please enter a search query.',\n      });\n      return;\n    }\n\n    showLoader();\n\n    const BASE_URL = 'https://pixabay.com/api/';\n    const KEY = '41927866-cfb01af7ede59fae11104cea9';\n\n    fetch(`${BASE_URL}/?key=${KEY}&q=${searchInput}&image_type=photo&orientation=horizontal&safesearch=true`)\n      .then(response => response.json())\n      .then(data => {\n        if (data.hits.length > 0) {\n          displayImages(data.hits);\n        } else {\n          iziToast.error({\n            title: 'Error',\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n          });\n        }\n      })\n      .catch(error => {\n        console.error('Error fetching data:', error);\n        iziToast.error({\n          title: 'Error',\n          message: 'An error occurred while fetching data. Please try again!',\n        });\n      })\n      .finally(() => {\n        hideLoader(); \n        form.reset();\n      });\n  }\n\n  function displayImages(images) {\n    gallery.innerHTML = '';\n\n    images.forEach(image => {\n      const listItem = document.createElement('li');\n      const link = document.createElement('a');\n      const img = document.createElement('img');\n\n      link.href = image.largeImageURL;\n      img.src = image.webformatURL;\n      img.alt = image.tags;\n\n      link.appendChild(img);\n      listItem.appendChild(link);\n      gallery.appendChild(listItem);\n    });\n\n    const lightbox = new SimpleLightbox('.gallery a', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n    lightbox.refresh();\n  }\n\n  function showLoader() {\n    form.appendChild(loader);\n  }\n\n  function hideLoader() {\n    if (form.contains(loader)) {\n      form.removeChild(loader);\n    }\n  }\n});"],"names":["form","gallery","loader","handleSearch","event","searchInput","iziToast","showLoader","response","data","displayImages","error","hideLoader","images","image","listItem","link","img","SimpleLightbox"],"mappings":"6vBAKA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,MAAM,EAC5CA,EAAO,UAAU,IAAI,QAAQ,EAE7BF,EAAK,iBAAiB,SAAUG,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EAAcL,EAAK,cAAc,QAAQ,EAAE,MAEjD,GAAI,CAACK,EAAY,OAAQ,CACvBC,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,8BACjB,CAAO,EACD,MACD,CAEDC,IAKA,MAAM,sEAA6BF,CAAW,0DAA0D,EACrG,KAAKG,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQ,CACRA,EAAK,KAAK,OAAS,EACrBC,EAAcD,EAAK,IAAI,EAEvBH,EAAS,MAAM,CACb,MAAO,QACP,QAAS,0EACrB,CAAW,CAEX,CAAO,EACA,MAAMK,GAAS,CACd,QAAQ,MAAM,uBAAwBA,CAAK,EAC3CL,EAAS,MAAM,CACb,MAAO,QACP,QAAS,0DACnB,CAAS,CACT,CAAO,EACA,QAAQ,IAAM,CACbM,IACAZ,EAAK,MAAK,CAClB,CAAO,CACJ,CAED,SAASU,EAAcG,EAAQ,CAC7BZ,EAAQ,UAAY,GAEpBY,EAAO,QAAQC,GAAS,CACtB,MAAMC,EAAW,SAAS,cAAc,IAAI,EACtCC,EAAO,SAAS,cAAc,GAAG,EACjCC,EAAM,SAAS,cAAc,KAAK,EAExCD,EAAK,KAAOF,EAAM,cAClBG,EAAI,IAAMH,EAAM,aAChBG,EAAI,IAAMH,EAAM,KAEhBE,EAAK,YAAYC,CAAG,EACpBF,EAAS,YAAYC,CAAI,EACzBf,EAAQ,YAAYc,CAAQ,CAClC,CAAK,EAEgB,IAAIG,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GACpB,CAAK,EACQ,QAAO,CACjB,CAED,SAASX,GAAa,CACpBP,EAAK,YAAYE,CAAM,CACxB,CAED,SAASU,GAAa,CAChBZ,EAAK,SAASE,CAAM,GACtBF,EAAK,YAAYE,CAAM,CAE1B,CACH,CAAC"}